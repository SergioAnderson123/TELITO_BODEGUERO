{"version":3,"file":"MisProductos-legacy-CY7AKog1.js","sources":["../../../src/js/pages/products.js"],"sourcesContent":["// Import Bootstrap\r\nimport * as bootstrap from 'bootstrap';\r\nimport { logger } from '../utils/logger.js';\r\n\r\n// E-commerce Products Page functionality\r\nexport function initializeProducts() {\r\n  // Initialize tooltips\r\n  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\r\n  tooltipTriggerList.map((tooltipTriggerEl) => {\r\n    return new bootstrap.Tooltip(tooltipTriggerEl);\r\n  });\r\n\r\n  // Product search functionality\r\n  const searchInput = document.getElementById('productSearch');\r\n  if (searchInput) {\r\n    searchInput.addEventListener(\r\n      'keyup',\r\n      debounce((e) => {\r\n        const searchTerm = e.target.value.toLowerCase();\r\n        filterProducts(searchTerm);\r\n      }, 300)\r\n    );\r\n  }\r\n\r\n  // Category filter\r\n  const categoryFilter = document.getElementById('categoryFilter');\r\n  if (categoryFilter) {\r\n    categoryFilter.addEventListener('change', () => {\r\n      applyFilters();\r\n    });\r\n  }\r\n\r\n  // Sort functionality\r\n  const sortBy = document.getElementById('sortBy');\r\n  if (sortBy) {\r\n    sortBy.addEventListener('change', function () {\r\n      sortProducts(this.value);\r\n    });\r\n  }\r\n\r\n  // Add to cart buttons\r\n  document.addEventListener('click', (e) => {\r\n    if (e.target.closest('.btn-primary') && e.target.textContent.includes('Add to Cart')) {\r\n      e.preventDefault();\r\n      const productCard = e.target.closest('.product-card');\r\n      const productName = productCard.querySelector('.card-title a').textContent;\r\n      addToCart(productName);\r\n    }\r\n  });\r\n\r\n  // Wishlist buttons\r\n  document.addEventListener('click', (e) => {\r\n    if (e.target.closest('.product-actions .btn')) {\r\n      const btn = e.target.closest('.btn');\r\n      if (btn.querySelector('.fa-heart')) {\r\n        e.preventDefault();\r\n        toggleWishlist(btn);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Add product form\r\n  const addProductForm = document.getElementById('addProductForm');\r\n  if (addProductForm) {\r\n    addProductForm.addEventListener('submit', (e) => {\r\n      e.preventDefault();\r\n      handleAddProduct();\r\n    });\r\n  }\r\n\r\n  // Quick view functionality\r\n  document.addEventListener('click', (e) => {\r\n    if (e.target.closest('.product-actions .btn')) {\r\n      const btn = e.target.closest('.btn');\r\n      if (btn.querySelector('.fa-eye')) {\r\n        e.preventDefault();\r\n        const productCard = btn.closest('.product-card');\r\n        showQuickView(productCard);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n// Debounce helper\r\nfunction debounce(func, wait) {\r\n  let timeout;\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n}\r\n\r\n// Filter products by search term\r\nfunction filterProducts(searchTerm) {\r\n  const productCards = document.querySelectorAll('.product-card');\r\n  productCards.forEach((card) => {\r\n    const productName = card.querySelector('.card-title').textContent.toLowerCase();\r\n    const productDescription = card.querySelector('.text-muted.small').textContent.toLowerCase();\r\n\r\n    if (productName.includes(searchTerm) || productDescription.includes(searchTerm)) {\r\n      card.parentElement.style.display = '';\r\n    } else {\r\n      card.parentElement.style.display = 'none';\r\n    }\r\n  });\r\n}\r\n\r\n// Apply all filters\r\nfunction applyFilters() {\r\n  const category = document.getElementById('categoryFilter').value;\r\n  const searchTerm = document.getElementById('productSearch').value.toLowerCase();\r\n\r\n  const productCards = document.querySelectorAll('.product-card');\r\n  productCards.forEach((card) => {\r\n    let show = true;\r\n\r\n    // Apply search filter\r\n    if (searchTerm) {\r\n      const productName = card.querySelector('.card-title').textContent.toLowerCase();\r\n      const productDescription = card.querySelector('.text-muted.small').textContent.toLowerCase();\r\n      show = productName.includes(searchTerm) || productDescription.includes(searchTerm);\r\n    }\r\n\r\n    // Apply category filter (would need data attributes on cards in real implementation)\r\n    if (category && show) {\r\n      // In a real app, you'd check the product's category\r\n      // For demo purposes, we'll just show all for now\r\n    }\r\n\r\n    card.parentElement.style.display = show ? '' : 'none';\r\n  });\r\n}\r\n\r\n// Sort products\r\nfunction sortProducts(sortType) {\r\n  const container = document.querySelector('.row').parentElement;\r\n  const productCols = Array.from(container.querySelectorAll('.col-xl-3.col-lg-4'));\r\n\r\n  productCols.sort((a, b) => {\r\n    const priceA = parseFloat(a.querySelector('.h5.text-primary').textContent.replace('$', ''));\r\n    const priceB = parseFloat(b.querySelector('.h5.text-primary').textContent.replace('$', ''));\r\n    const nameA = a.querySelector('.card-title a').textContent;\r\n    const nameB = b.querySelector('.card-title a').textContent;\r\n\r\n    switch (sortType) {\r\n      case 'price-low':\r\n        return priceA - priceB;\r\n      case 'price-high':\r\n        return priceB - priceA;\r\n      case 'newest':\r\n        // In real app, would sort by date\r\n        return 0;\r\n      case 'rating':\r\n        // In real app, would sort by rating\r\n        return 0;\r\n      default:\r\n        return nameA.localeCompare(nameB);\r\n    }\r\n  });\r\n\r\n  // Re-append sorted elements\r\n  productCols.forEach((col) => container.appendChild(col));\r\n}\r\n\r\n// Add to cart\r\nfunction addToCart(productName) {\r\n  // Show success notification\r\n  const alertHtml = `\r\n        <div class=\"alert alert-success alert-dismissible fade show position-fixed top-0 end-0 m-3\" role=\"alert\" style=\"z-index: 1050;\">\r\n            <i class=\"fas fa-check-circle me-2\"></i>\r\n            <strong>${productName}</strong> added to cart!\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n        </div>\r\n    `;\r\n\r\n  document.body.insertAdjacentHTML('beforeend', alertHtml);\r\n\r\n  // Auto-dismiss after 3 seconds\r\n  setTimeout(() => {\r\n    const alert = document.querySelector('.alert');\r\n    if (alert) {\r\n      const bsAlert = new bootstrap.Alert(alert);\r\n      bsAlert.close();\r\n    }\r\n  }, 3000);\r\n\r\n  // Update cart counter (if exists)\r\n  updateCartCounter();\r\n}\r\n\r\n// Toggle wishlist\r\nfunction toggleWishlist(btn) {\r\n  const icon = btn.querySelector('i');\r\n  const productCard = btn.closest('.product-card');\r\n  const productName = productCard.querySelector('.card-title a').textContent;\r\n\r\n  if (icon.classList.contains('far')) {\r\n    // Add to wishlist\r\n    icon.classList.remove('far');\r\n    icon.classList.add('fas', 'text-danger');\r\n    showNotification(`${productName} added to wishlist!`, 'success');\r\n  } else {\r\n    // Remove from wishlist\r\n    icon.classList.remove('fas', 'text-danger');\r\n    icon.classList.add('far');\r\n    showNotification(`${productName} removed from wishlist!`, 'info');\r\n  }\r\n}\r\n\r\n// Handle add product\r\nfunction handleAddProduct() {\r\n  const formData = {\r\n    name: document.getElementById('productName').value,\r\n    category: document.getElementById('productCategory').value,\r\n    price: document.getElementById('productPrice').value,\r\n    stock: document.getElementById('productStock').value,\r\n    sku: document.getElementById('productSKU').value,\r\n    description: document.getElementById('productDescription').value\r\n  };\r\n\r\n  // In real app, would send to server\r\n  logger.info('Adding product:', formData);\r\n\r\n  // Close modal\r\n  const modal = bootstrap.Modal.getInstance(document.getElementById('addProductModal'));\r\n  if (modal) {\r\n    modal.hide();\r\n  }\r\n\r\n  // Reset form\r\n  document.getElementById('addProductForm').reset();\r\n\r\n  // Show success message\r\n  showNotification('Product added successfully!', 'success');\r\n}\r\n\r\n// Show quick view\r\nfunction showQuickView(productCard) {\r\n  const productName = productCard.querySelector('.card-title a').textContent;\r\n  const _price = productCard.querySelector('.h5.text-primary').textContent;\r\n  const _description = productCard.querySelector('.text-muted.small').textContent;\r\n\r\n  // In a real app, this would open a modal with full product details\r\n  logger.info('Quick view for:', productName);\r\n  showNotification(`Quick view: ${productName}`, 'info');\r\n}\r\n\r\n// Update cart counter\r\nfunction updateCartCounter() {\r\n  // In real app, would update actual cart count\r\n  const cartCounter = document.querySelector('.cart-counter');\r\n  if (cartCounter) {\r\n    const currentCount = parseInt(cartCounter.textContent) || 0;\r\n    cartCounter.textContent = currentCount + 1;\r\n  }\r\n}\r\n\r\n// Show notification\r\nfunction showNotification(message, type = 'info') {\r\n  const alertHtml = `\r\n        <div class=\"alert alert-${type} alert-dismissible fade show position-fixed top-0 end-0 m-3\" role=\"alert\" style=\"z-index: 1050;\">\r\n            ${message}\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n        </div>\r\n    `;\r\n\r\n  document.body.insertAdjacentHTML('beforeend', alertHtml);\r\n\r\n  setTimeout(() => {\r\n    const alert = document.querySelector('.alert');\r\n    if (alert) {\r\n      alert.remove();\r\n    }\r\n  }, 3000);\r\n}\r\n\r\n// Initialize on DOM ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', initializeProducts);\r\n} else {\r\n  initializeProducts();\r\n}\r\n"],"names":["initializeProducts","slice","call","document","querySelectorAll","map","tooltipTriggerEl","bootstrap.Tooltip","searchInput","getElementById","addEventListener","func","wait","timeout","args","later","clearTimeout","setTimeout","debounce","e","searchTerm","forEach","card","productName","querySelector","textContent","toLowerCase","productDescription","includes","parentElement","style","display","filterProducts","target","value","categoryFilter","show","applyFilters","sortBy","sortType","container","productCols","Array","from","sort","a","b","priceA","parseFloat","replace","priceB","nameA","nameB","localeCompare","col","appendChild","sortProducts","this","closest","preventDefault","alertHtml","body","insertAdjacentHTML","alert","bootstrap.Alert","close","cartCounter","currentCount","parseInt","updateCartCounter","addToCart","btn","icon","productCard","classList","contains","remove","add","showNotification","toggleWishlist","addProductForm","formData","name","category","price","stock","sku","description","logger","info","modal","bootstrap.Modal","getInstance","hide","reset","handleAddProduct","showQuickView","message","type","readyState"],"mappings":"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"}