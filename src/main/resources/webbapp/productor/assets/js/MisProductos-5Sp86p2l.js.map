{"version":3,"file":"MisProductos-5Sp86p2l.js","sources":["../../../src/js/pages/products.js"],"sourcesContent":["// Import Bootstrap\r\nimport * as bootstrap from 'bootstrap';\r\nimport { logger } from '../utils/logger.js';\r\n\r\n// E-commerce Products Page functionality\r\nexport function initializeProducts() {\r\n  // Initialize tooltips\r\n  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\r\n  tooltipTriggerList.map((tooltipTriggerEl) => {\r\n    return new bootstrap.Tooltip(tooltipTriggerEl);\r\n  });\r\n\r\n  // Product search functionality\r\n  const searchInput = document.getElementById('productSearch');\r\n  if (searchInput) {\r\n    searchInput.addEventListener(\r\n      'keyup',\r\n      debounce((e) => {\r\n        const searchTerm = e.target.value.toLowerCase();\r\n        filterProducts(searchTerm);\r\n      }, 300)\r\n    );\r\n  }\r\n\r\n  // Category filter\r\n  const categoryFilter = document.getElementById('categoryFilter');\r\n  if (categoryFilter) {\r\n    categoryFilter.addEventListener('change', () => {\r\n      applyFilters();\r\n    });\r\n  }\r\n\r\n  // Sort functionality\r\n  const sortBy = document.getElementById('sortBy');\r\n  if (sortBy) {\r\n    sortBy.addEventListener('change', function () {\r\n      sortProducts(this.value);\r\n    });\r\n  }\r\n\r\n  // Add to cart buttons\r\n  document.addEventListener('click', (e) => {\r\n    if (e.target.closest('.btn-primary') && e.target.textContent.includes('Add to Cart')) {\r\n      e.preventDefault();\r\n      const productCard = e.target.closest('.product-card');\r\n      const productName = productCard.querySelector('.card-title a').textContent;\r\n      addToCart(productName);\r\n    }\r\n  });\r\n\r\n  // Wishlist buttons\r\n  document.addEventListener('click', (e) => {\r\n    if (e.target.closest('.product-actions .btn')) {\r\n      const btn = e.target.closest('.btn');\r\n      if (btn.querySelector('.fa-heart')) {\r\n        e.preventDefault();\r\n        toggleWishlist(btn);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Add product form\r\n  const addProductForm = document.getElementById('addProductForm');\r\n  if (addProductForm) {\r\n    addProductForm.addEventListener('submit', (e) => {\r\n      e.preventDefault();\r\n      handleAddProduct();\r\n    });\r\n  }\r\n\r\n  // Quick view functionality\r\n  document.addEventListener('click', (e) => {\r\n    if (e.target.closest('.product-actions .btn')) {\r\n      const btn = e.target.closest('.btn');\r\n      if (btn.querySelector('.fa-eye')) {\r\n        e.preventDefault();\r\n        const productCard = btn.closest('.product-card');\r\n        showQuickView(productCard);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n// Debounce helper\r\nfunction debounce(func, wait) {\r\n  let timeout;\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n}\r\n\r\n// Filter products by search term\r\nfunction filterProducts(searchTerm) {\r\n  const productCards = document.querySelectorAll('.product-card');\r\n  productCards.forEach((card) => {\r\n    const productName = card.querySelector('.card-title').textContent.toLowerCase();\r\n    const productDescription = card.querySelector('.text-muted.small').textContent.toLowerCase();\r\n\r\n    if (productName.includes(searchTerm) || productDescription.includes(searchTerm)) {\r\n      card.parentElement.style.display = '';\r\n    } else {\r\n      card.parentElement.style.display = 'none';\r\n    }\r\n  });\r\n}\r\n\r\n// Apply all filters\r\nfunction applyFilters() {\r\n  const category = document.getElementById('categoryFilter').value;\r\n  const searchTerm = document.getElementById('productSearch').value.toLowerCase();\r\n\r\n  const productCards = document.querySelectorAll('.product-card');\r\n  productCards.forEach((card) => {\r\n    let show = true;\r\n\r\n    // Apply search filter\r\n    if (searchTerm) {\r\n      const productName = card.querySelector('.card-title').textContent.toLowerCase();\r\n      const productDescription = card.querySelector('.text-muted.small').textContent.toLowerCase();\r\n      show = productName.includes(searchTerm) || productDescription.includes(searchTerm);\r\n    }\r\n\r\n    // Apply category filter (would need data attributes on cards in real implementation)\r\n    if (category && show) {\r\n      // In a real app, you'd check the product's category\r\n      // For demo purposes, we'll just show all for now\r\n    }\r\n\r\n    card.parentElement.style.display = show ? '' : 'none';\r\n  });\r\n}\r\n\r\n// Sort products\r\nfunction sortProducts(sortType) {\r\n  const container = document.querySelector('.row').parentElement;\r\n  const productCols = Array.from(container.querySelectorAll('.col-xl-3.col-lg-4'));\r\n\r\n  productCols.sort((a, b) => {\r\n    const priceA = parseFloat(a.querySelector('.h5.text-primary').textContent.replace('$', ''));\r\n    const priceB = parseFloat(b.querySelector('.h5.text-primary').textContent.replace('$', ''));\r\n    const nameA = a.querySelector('.card-title a').textContent;\r\n    const nameB = b.querySelector('.card-title a').textContent;\r\n\r\n    switch (sortType) {\r\n      case 'price-low':\r\n        return priceA - priceB;\r\n      case 'price-high':\r\n        return priceB - priceA;\r\n      case 'newest':\r\n        // In real app, would sort by date\r\n        return 0;\r\n      case 'rating':\r\n        // In real app, would sort by rating\r\n        return 0;\r\n      default:\r\n        return nameA.localeCompare(nameB);\r\n    }\r\n  });\r\n\r\n  // Re-append sorted elements\r\n  productCols.forEach((col) => container.appendChild(col));\r\n}\r\n\r\n// Add to cart\r\nfunction addToCart(productName) {\r\n  // Show success notification\r\n  const alertHtml = `\r\n        <div class=\"alert alert-success alert-dismissible fade show position-fixed top-0 end-0 m-3\" role=\"alert\" style=\"z-index: 1050;\">\r\n            <i class=\"fas fa-check-circle me-2\"></i>\r\n            <strong>${productName}</strong> added to cart!\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n        </div>\r\n    `;\r\n\r\n  document.body.insertAdjacentHTML('beforeend', alertHtml);\r\n\r\n  // Auto-dismiss after 3 seconds\r\n  setTimeout(() => {\r\n    const alert = document.querySelector('.alert');\r\n    if (alert) {\r\n      const bsAlert = new bootstrap.Alert(alert);\r\n      bsAlert.close();\r\n    }\r\n  }, 3000);\r\n\r\n  // Update cart counter (if exists)\r\n  updateCartCounter();\r\n}\r\n\r\n// Toggle wishlist\r\nfunction toggleWishlist(btn) {\r\n  const icon = btn.querySelector('i');\r\n  const productCard = btn.closest('.product-card');\r\n  const productName = productCard.querySelector('.card-title a').textContent;\r\n\r\n  if (icon.classList.contains('far')) {\r\n    // Add to wishlist\r\n    icon.classList.remove('far');\r\n    icon.classList.add('fas', 'text-danger');\r\n    showNotification(`${productName} added to wishlist!`, 'success');\r\n  } else {\r\n    // Remove from wishlist\r\n    icon.classList.remove('fas', 'text-danger');\r\n    icon.classList.add('far');\r\n    showNotification(`${productName} removed from wishlist!`, 'info');\r\n  }\r\n}\r\n\r\n// Handle add product\r\nfunction handleAddProduct() {\r\n  const formData = {\r\n    name: document.getElementById('productName').value,\r\n    category: document.getElementById('productCategory').value,\r\n    price: document.getElementById('productPrice').value,\r\n    stock: document.getElementById('productStock').value,\r\n    sku: document.getElementById('productSKU').value,\r\n    description: document.getElementById('productDescription').value\r\n  };\r\n\r\n  // In real app, would send to server\r\n  logger.info('Adding product:', formData);\r\n\r\n  // Close modal\r\n  const modal = bootstrap.Modal.getInstance(document.getElementById('addProductModal'));\r\n  if (modal) {\r\n    modal.hide();\r\n  }\r\n\r\n  // Reset form\r\n  document.getElementById('addProductForm').reset();\r\n\r\n  // Show success message\r\n  showNotification('Product added successfully!', 'success');\r\n}\r\n\r\n// Show quick view\r\nfunction showQuickView(productCard) {\r\n  const productName = productCard.querySelector('.card-title a').textContent;\r\n  const _price = productCard.querySelector('.h5.text-primary').textContent;\r\n  const _description = productCard.querySelector('.text-muted.small').textContent;\r\n\r\n  // In a real app, this would open a modal with full product details\r\n  logger.info('Quick view for:', productName);\r\n  showNotification(`Quick view: ${productName}`, 'info');\r\n}\r\n\r\n// Update cart counter\r\nfunction updateCartCounter() {\r\n  // In real app, would update actual cart count\r\n  const cartCounter = document.querySelector('.cart-counter');\r\n  if (cartCounter) {\r\n    const currentCount = parseInt(cartCounter.textContent) || 0;\r\n    cartCounter.textContent = currentCount + 1;\r\n  }\r\n}\r\n\r\n// Show notification\r\nfunction showNotification(message, type = 'info') {\r\n  const alertHtml = `\r\n        <div class=\"alert alert-${type} alert-dismissible fade show position-fixed top-0 end-0 m-3\" role=\"alert\" style=\"z-index: 1050;\">\r\n            ${message}\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n        </div>\r\n    `;\r\n\r\n  document.body.insertAdjacentHTML('beforeend', alertHtml);\r\n\r\n  setTimeout(() => {\r\n    const alert = document.querySelector('.alert');\r\n    if (alert) {\r\n      alert.remove();\r\n    }\r\n  }, 3000);\r\n}\r\n\r\n// Initialize on DOM ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', initializeProducts);\r\n} else {\r\n  initializeProducts();\r\n}\r\n"],"names":["initializeProducts","tooltipTriggerEl","bootstrap.Tooltip","searchInput","debounce","e","searchTerm","filterProducts","categoryFilter","applyFilters","sortBy","sortProducts","productName","addToCart","btn","toggleWishlist","addProductForm","handleAddProduct","productCard","showQuickView","func","wait","timeout","args","later","card","productDescription","show","sortType","container","productCols","a","b","priceA","priceB","nameA","nameB","col","alertHtml","alert","bootstrap.Alert","updateCartCounter","icon","showNotification","formData","logger","modal","bootstrap.Modal","cartCounter","currentCount","message","type"],"mappings":"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"}